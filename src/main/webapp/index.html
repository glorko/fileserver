<!DOCTYPE html>
<html lang="en">
<head>
    <script src="webjars/jquery/2.1.3/jquery.js" type="text/javascript"></script>
    <script src="webjars/bootstrap/3.3.6/js/bootstrap.js" type="text/javascript"></script>
    <script src="webjars/angularjs/1.4.9/angular.js" type="text/javascript"></script>
    <script src="webjars/angular-ui-bootstrap/1.1.1-1/ui-bootstrap.js" type="text/javascript"></script>
    <script src="webjars/angular-file-upload/11.0.0/ng-file-upload.js" type="text/javascript"></script>
    <script src="webjars/angular-ui-bootstrap/1.1.1-1/ui-bootstrap-tpls.js" type="text/javascript"></script>
    <script src="webjars/angular-translate/2.9.1/angular-translate.js" type="text/javascript"></script>
    <script src="webjars/angular-translate-loader-url/0.1.2-1/angular-translate-loader-url.js"
            type="text/javascript"></script>

    <script src="webjars/bootstrap-dialog/1.34.6/src/js/bootstrap-dialog.js"
            type="text/javascript"></script>
    <script src="webjars/angular-loading-bar/0.9.0/loading-bar.js" type="text/javascript"></script>
    <script src="webjars/angular-sanitize/1.3.11/angular-sanitize.js"></script>
    <script src="webjars/angular-animate/1.5.3/angular-animate.js" type="text/javascript"></script>

    <link rel="stylesheet" href="webjars/bootstrap/3.3.6/css/bootstrap.css">
    <link rel="stylesheet" href="webjars/startbootstrap-grayscale/1.0.4/css/grayscale.css">
    <link rel="stylesheet" href="webjars/startbootstrap-grayscale/1.0.4/css/bootstrap.css">
    <link rel="stylesheet" href="webjars/bootstrap-dialog/1.34.6/src/css/bootstrap-dialog.css">
    <link rel="stylesheet" href="webjars/angular-loading-bar/0.9.0/loading-bar.css">
    <script src="javascript/module.js"></script>
    <script src="javascript/factory.js"></script>


    <script src="javascript/controller.js"></script>
    <meta charset="UTF-8">
    <title>FileServer</title>

</head>

<body ng-app="fileServer" ng-cloak>
<div ng-controller="fileServerController as ctrl">
    <ul>
        <li><a href="" ng-click="changeLanguage('en')">en</a>
        <li><a href="" ng-click="changeLanguage('ru')">ru</a>
    </ul>
    <span id="fileselect" class="btn btn-default btn-file">
                                    Select file  <input type="file" ngf-select ng-model="file" name="fileName"/>
                                        </span>

    <span ng-model="uploader.queue.last"></span>
    <button type="button"
            ng-click="uploadFile(file)"
            class="btn btn-success custom-width">Upload new file

    </button>
    <label ng-show="equals({}, data) ">{{'form.text.notfinded' | translate}}</label>
    <div class="form-group">
        <label for="search">{{'form.text.search' | translate}}</label>
        <input type="text" ng-model="search_query" ng-change="search(search_query)" class="form-control" id="search">
    </div>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>{{'form.text.hash' | translate}}</th>
            <th>{{'form.text.name' | translate}}</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="(key, value) in data">
            <td><span ng-bind="key"></span></td>
            <td><a ng-href="{{'/fileserver?hash='+key}}">{{value}}</a></span></td>
            <td>  <button ng-click="delete(key)">
                <span class="glyphicon glyphicon-remove"></span>
            </button></td>
        </tr>
        </tbody>
    </table>

    <div class="form-group">

        <input type="text" ng-model="hash" ng-change="search(search_query)" class="form-control" id="searchHash">
        <a ng-href="{{'/fileserver?hash='+hash}}">Download by hash</a>
    </div>
</div>
</body>
</html>